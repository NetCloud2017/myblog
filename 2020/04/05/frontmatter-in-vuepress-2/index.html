<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>git 常用命令集 | 前端技术栈</title>
    <meta name="description" content="

（ git 管理的是改变的状态而不管理文件）

初始化
git init
创建 .gitIgnore 文件

创建
vi * 文件名*  创建文件
git branch dev 

还没有合并的分支是不能用小写 - d 来删除的  需要用大写 - D 来强制删除
git branch -D feature-vulcan
git  stash  ...">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/myblog/assets/css/0.styles.8f01a586.css" as="style"><link rel="preload" href="/myblog/assets/js/app.d2e6ca2c.js" as="script"><link rel="preload" href="/myblog/assets/js/6.705b149d.js" as="script"><link rel="preload" href="/myblog/assets/js/4.3503e11e.js" as="script"><link rel="preload" href="/myblog/assets/js/17.f9fadac8.js" as="script"><link rel="prefetch" href="/myblog/assets/js/1.4a97d4fa.js"><link rel="prefetch" href="/myblog/assets/js/10.a13e8522.js"><link rel="prefetch" href="/myblog/assets/js/11.0902871f.js"><link rel="prefetch" href="/myblog/assets/js/12.69e8f749.js"><link rel="prefetch" href="/myblog/assets/js/13.4967db6b.js"><link rel="prefetch" href="/myblog/assets/js/14.e00b205f.js"><link rel="prefetch" href="/myblog/assets/js/15.cdcc8f01.js"><link rel="prefetch" href="/myblog/assets/js/16.a0b794dd.js"><link rel="prefetch" href="/myblog/assets/js/18.5e2fb82d.js"><link rel="prefetch" href="/myblog/assets/js/5.c65279fe.js"><link rel="prefetch" href="/myblog/assets/js/7.0177608f.js"><link rel="prefetch" href="/myblog/assets/js/8.e8e02f7b.js"><link rel="prefetch" href="/myblog/assets/js/9.7b08aa01.js"><link rel="prefetch" href="/myblog/assets/js/vuejs-paginate.caee409a.js">
    <link rel="stylesheet" href="/myblog/assets/css/0.styles.8f01a586.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/myblog/" class="nav-link home-link">前端技术栈 </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/myblog/" class="nav-link">Blog</a></li><li class="nav-item"><a href="/myblog/tag/" class="nav-link">Tags</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/myblog/" class="nav-link mobile-home-link">前端技术栈 </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/myblog/" class="nav-link">Blog</a></li><li class="mobile-nav-item"><a href="/myblog/tag/" class="nav-link">Tags</a></li> <li class="mobile-nav-item"><!----></li></ul></div></div></div> <div class="content-wrapper"><div id="vuepress-theme-blog__post-layout"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content"><header><h1 itemprop="name headline" class="post-title">
        
      </h1> <div class="post-meta"><div itemprop="publisher author" itemtype="http://schema.org/Person" itemscope="itemscope" class="post-meta-author"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-navigation"><polygon points="3 11 22 2 13 21 11 13 3 11"></polygon></svg> <span itemprop="name">Math&amp;T</span> <span itemprop="address">   in ShenZhen</span></div> <div class="post-meta-date"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> <time pubdate itemprop="datePublished" datetime="2020-4-5">
      Sun Apr 05 2020
    </time></div> <!----></div></header> <div itemprop="articleBody" class="content__default"><h1 id="git-常用命令集"><a href="#git-常用命令集" class="header-anchor">#</a> git 常用命令集</h1> <p>（ git 管理的是改变的状态而不管理文件）</p> <p><strong>初始化</strong>
git init
创建 .gitIgnore 文件</p> <p><strong>创建</strong> <strong>vi</strong> ** 文件名**  创建文件
**git branch dev **</p> <p>还没有合并的分支是不能用小写 - d 来删除的  需要用大写 - D 来强制删除
git branch -D feature-vulcan
**git  stash **  保存当初还没有完成的工作的分支去 创建一个分支去解决紧急任务。如bug;</p> <p>修复后再checkout 回来。但是工作区是干净的，刚才的工作现场存到哪去了？用git stash list命令看看存储的：（多次stash，恢复的时候，先用git stash list查看，然后恢复指定的stash，用命令：git stash apply stash@{0}）</p> <p>工作现场还在，Git把stash内容存在某个地方了，但是需要恢复一下，有两个办法：
一是用git stash apply恢复，但是恢复后，stash内容并不删除，你需要用git stash drop来删除；
另一种方式是用git stash pop，恢复的同时把stash内容也删了：</p> <p><strong>创建有说明的标签</strong>
还可以创建带有说明的标签，用-a指定标签名，-m指定说明文字：</p> <p>$ git tag -a v0.1 -m &quot;version 0.1 released&quot; 1094adb</p> <div class="language- extra-class"><pre class="language-text"><code>
git tag v0.9 ff43531   对某个commit 打tag

**添加/提交/推送/克隆/关联**
</code></pre></div><p>git add (./*  本部做项目时禁止全部提交)    git add file2.txt file3.txt</p> <div class="language- extra-class"><pre class="language-text"><code>
**git commit -m&quot;commit modifile file &quot; **

**git push origin 分支**

同时push到同一个分支也会冲突 
</code></pre></div><p>解决 先git pull  若git pull也失败了，原因是没有指定本地dev分支与远程origin/dev分支的链接，根据提示，设置dev和origin/dev的链接   git branch --set-upstream-to=origin/dev dev</p> <p>再 git pull</p> <div class="language- extra-class"><pre class="language-text"><code>(如果git pull提示no tracking information，则说明本地分支和远程分支的链接关系没有创建，用命令git branch --set-upstream-to=origin/&lt;branch-name&gt; 本地分支名；

因为创建的标签都只存储在本地，不会自动推送到远程。所以，打错的标签可以在本地安全删除。
如果要推送某个标签到远程，使用命令**git push origin  v1.0**

一次性推送所有没有推送到远程的tag   
**git push orgin --tags **

**git  clone &quot;https......&quot;**
当你从远程仓库克隆时，实际上Git自动把本地的master分支和远程的master分支对应起来了，并且，远程仓库的默认名称是origin。

</code></pre></div><p>git remote add origin git@github.com:michaelliao/learngit.git</p> <div class="language- extra-class"><pre class="language-text"><code>把本地库的内容推送到远程，用git push命令，实际上是把当前分支master推送到远程。
由于远程库是空的，我们第一次推送master分支时，加上了-u参数，Git不但会把本地的master分支内容推送的远程新的master分支，还会把本地的master分支和远程的master分支关联起来，在以后的推送或者拉取时就可以简化命令。不过就是省略了-u 

**合并**
**git merge dev **
通常，合并分支时，如果可能，Git会用Fast forward模式，但这种模式下，删除分支后，会丢掉分支信息。
如果要强制禁用Fast forward模式，Git就会在merge时生成一个新的commit，这样，从分支历史上就可以看出分支信息。
</code></pre></div><p>写法 git merge --no-ff -m &quot;merge with no-ff&quot; dev   合并dev 分支并提交；</p> <div class="language- extra-class"><pre class="language-text"><code>

**切换 **

**git checkout -b master**

**git checkout -dev **


**删除 **

</code></pre></div><p>rm  文件名（这样直接删除文件会报警， 接着再git rm test.txt   再git commit -m &quot;remove test.txt&quot;就不会了</p> <p>若是删错了，因为版本库里还有呢，所以可以很轻松地把误删的文件恢复到最新版本：</p> <p>$ git checkout -- test.txt
git checkout其实是用版本库里的版本替换工作区的版本，无论工作区是修改还是删除，都可以“一键还原”。)</p> <div class="language- extra-class"><pre class="language-text"><code>**git tag -d v1.0 ** 本地删除标签

删除远程的标签
要先从本地删除 **git tag -d v0.9   **再从远程删除 git  push origin :refs/tags/v0.9  

**还原 **

命令git checkout -- readme.txt(丢弃工作区)意思就是，把readme.txt文件在工作区的修改全部撤销，这里有两种情况：
一种是readme.txt自修改后还没有被放到暂存区，现在，撤销修改就回到和版本库一模一样的状态；
一种是readme.txt已经添加到暂存区后，又作了修改，现在，撤销修改就回到添加到暂存区后的状态。
总之，就是让这个文件回到最近一次git commit或git add时的状态。
现在，看看readme.txt的文件内容

用命令git reset HEAD   readme.txt （丢弃暂存区） 可以把暂存区的修改撤销掉（unstage），重新放回工作区
git reset命令既可以回退版本，也可以把暂存区的修改回退到工作区。当我们用HEAD时，表示最新的版本。
git  log  查看commit  的版本信息以及 提交日记， 可以利用 提交 版本ID 回退到某个版本
</code></pre></div><p>(可以用  git log --pretty=oneline  省略多余的信息</p> <div class="language- extra-class"><pre class="language-text"><code>)
直接退回上一个版本   git reset -- hard HEAD^    上上个版本 git reset --hard HEAD^^ 
前10个版本  git  reset  -- hard HEAD~10
(注意 ： 如果要找回最新的版本就不要关闭当前的命令窗口，往上找 git log 输出的东西)
git  reset  comitID    --hard 

Git提供了一个命令git reflog用来记录你的每一次命令 (输出的结果里有 commit ID  )

用标签来拉回某个版本
**git  tag v1.3    **

**显示/查看**

**pwd   显示当前目录**
**cd  文件路径       进入某个目录**
**ls  --ah**   查看当前目录隐藏的文件
**cat  文件名 . 后缀名 ****  ** 查看文件 

**git log --graph**命令可以看到分支合并图

**git  rebase ** 
rebase操作可以把本地未push的分叉提交历史整理成直线；
rebase的目的是使得我们在查看历史提交的变化时更容易，因为分叉的提交需要三方对比。

git branch -a   可以查看到本地和远程到所有分支 （remotes 开头到都是远程分支）
 ![图片](https://images-cdn.shimo.im/4uRxAqAVLX8NwxZ7/QQ20180926_161429_2x.png!thumbnail)

当本地之前的分支删除的情况下也可以用checkout 回来   git checkout -b 本地创建的分支名 origin / 远程的分支名 
例如 ：git checkout -b [dev](https://www.baidu.com/s?wd=dev&amp;tn=44039180_cpr&amp;fenlei=mv6quAkxTZn0IZRqIHckPjm4nH00T1YLmWm1nW9hn1I-m1R3nWDd0ZwV5Hcvrjm3rH6sPfKWUMw85HfYnjn4nH6sgvPsT6KdThsqpZwYTjCEQLGCpyw9Uz4Bmy-bIi4WUvYETgN-TLwGUv3EnWmYnjTkPHfkn1n4nHckPWfd) origin/[dev](https://www.baidu.com/s?wd=dev&amp;tn=44039180_cpr&amp;fenlei=mv6quAkxTZn0IZRqIHckPjm4nH00T1YLmWm1nW9hn1I-m1R3nWDd0ZwV5Hcvrjm3rH6sPfKWUMw85HfYnjn4nH6sgvPsT6KdThsqpZwYTjCEQLGCpyw9Uz4Bmy-bIi4WUvYETgN-TLwGUv3EnWmYnjTkPHfkn1n4nHckPWfd)，

查看远程库的信息 ：** git remote**   详细的 用 ： git remote -v 
**git  tag **查看所有的标签
**git show  v0.9** 查看标签信息 
标签总是和某个commit挂钩。如果这个commit既出现在master分支，又出现在dev分支，那么在这两个分支上都可以看到这个标签。


配置一个git last，让其**显示最后一次提交信息：**
</code></pre></div><p>$ git config --global alias.last 'log -1'</p> <div class="language- extra-class"><pre class="language-text"><code>
**对比**
git  diff 

git diff 文件名    将当前工作区文件和版本区的作比较；
用git diff HEAD -- readme.txt命令可以查看工作区和版本库里面最新版本的（readme.txt 文件）区别


**配置**
</code></pre></div><p>git 配置颜色git config --global color.ui true</p> <div class="language- extra-class"><pre class="language-text"><code>
强制添加别忽略的文件
git add -f  忽略的文件名

</code></pre></div><p>git 配置别名git config --global alias.co checkout
git config --global alias.ci commit
git config --global alias.br branch</p> <div class="language- extra-class"><pre class="language-text"><code>
https协议 克隆  输入的 账号密码长期保存  
</code></pre></div><p>git config –global credential.helper store</p> <div class="language- extra-class"><pre class="language-text"><code>
这样就设置一个小时之后失效
</code></pre></div><p>git config credential.helper ‘cache –timeout=3600’</p> <div class="language- extra-class"><pre class="language-text"><code>
使用ssh 协议clone / pull / push 项目 
进入 .ssh 文件看看有没有公钥和私钥
cd ~/.ssh  ----&gt;  ls
有 id_dsa 为私钥  。id_dsa.pub 为公钥
没有测用以下命令生成
ssh-keygen -t rsa -C &quot;you registor gitlab emaiil&quot;
然后出现

Enter file in which to save the key (/home/you/.ssh/id_rsa):


Enter same passphrase again: [Type passphrase again]
这两个都直接回车可以了

最后出现
Your public key has been saved in /home/you/.ssh/id_rsa.pub.


查看生成的公钥
cat ~/.ssh/id_rsa.pub

然后在 gitlab 或 github 的个人设置里 将公钥放到 ssh-key 里

然后检测是否成功
ssh -T git@github.com

成功出现 ： Hi NetCloud2017! You've successfully authenticated, but GitHub does not provide shell access.



</code></pre></div></div> <footer><!----> <hr> <!----></footer></article> <!----></div></div> <footer class="footer" data-v-fdbf4940><div class="footer-left-wrap" data-v-fdbf4940><ul class="contact" data-v-fdbf4940><li class="contact-item" data-v-fdbf4940><a href="https://github.com/ulivz" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-fdbf4940><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-fdbf4940><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-fdbf4940></path></svg>
          
        </a></li><li class="contact-item" data-v-fdbf4940><a href="https://twitter.com/_ulivz" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-fdbf4940><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter" data-v-fdbf4940><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z" data-v-fdbf4940></path></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-fdbf4940><ul class="copyright" data-v-fdbf4940><li class="copyright-item" data-v-fdbf4940><a href="https://policies.google.com/privacy?hl=en-US" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-fdbf4940>Privacy Policy</a></li><li class="copyright-item" data-v-fdbf4940><a href="/myblog/2020/04/05/frontmatter-in-vuepress-2/.html" class="nav-link" data-v-fdbf4940>MIT Licensed | Copyright © 2018-present Vue.js</a></li></ul></div></footer></div><div class="global-ui"></div></div>
    <script src="/myblog/assets/js/app.d2e6ca2c.js" defer></script><script src="/myblog/assets/js/6.705b149d.js" defer></script><script src="/myblog/assets/js/4.3503e11e.js" defer></script><script src="/myblog/assets/js/17.f9fadac8.js" defer></script>
  </body>
</html>
